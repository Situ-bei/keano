import{j as N,y as H,z as j,u as L,A as k,D as J,T as R,W as M,C as V,o as r,c as h,a,b as m,n as C,g as I,d as f,B as K,t as x,F as E,E as U,G as z,l as b,p as G,w as Y,H as O,P as Q,I as X,i as Z,m as y,f as D,J as $,L as ee,M as te,r as oe,N as ne,S as ae,O as se}from"./app-BcsZlW5k.js";import{_ as A}from"./plugin-vue_export-helper-DlAUqK2U.js";import{a as re}from"./axios-CoTZsgdJ.js";const ie=()=>()=>{},ce=N({__name:"NewsItem",props:{path:{},info:{}},setup(p,{expose:t}){t();const o=p,e=H(o,"info"),{info:i}=j(o),{["t"]:d,["e"]:_}=e.value,s=i.value,c=L(),u=c.resolve(o.path),g=k(()=>u?u.path.toString():"");console.log("routePath",g.value);const v={props:o,articleInfo:e,pageInfo:i,title:d,excerpt:_,pinfo:s,router:c,route:u,routePath:g,get DateInfo(){return J},get TagInfo(){return R},get WordInfo(){return M},get Content(){return V}};return Object.defineProperty(v,"__isScriptSetup",{enumerable:!1,value:!0}),v}}),le="/keano/assets/avatar-f8LJ653A.jpg",ue={class:"vp-article-wrapper"},pe={class:"vp-article-item",typeof:"Article"},de={class:"news-item-content"},_e={class:"info-row"},me={key:0,class:"page-info"},ge={class:"tag"},fe={property:"headline"};function he(p,t,o,e,i,d){return r(),h("div",ue,[a("article",pe,[a("div",de,[a("div",_e,[t[1]||(t[1]=a("img",{class:"avatar",src:le},null,-1)),a("div",null,[t[0]||(t[0]=a("a",{href:"/intro"},[a("span",{class:"name"},"Keano")],-1)),e.pinfo?(r(),h("div",me,[m(e.DateInfo,C(I(e.pinfo)),null,16),f(' <PageViewInfo v-bind="pinfo" /> '),m(e.TagInfo,C(I(e.pinfo)),null,16),m(e.WordInfo,C(I(e.pinfo)),null,16)])):f("v-if",!0)])]),f(' <hr class="vp-article-hr" /> '),K(p.$slots,"excerpt",C(I({excerpt:e.excerpt})),()=>[e.excerpt?(r(),h(E,{key:0},[f(' <div class="vp-article-excerpt" v-html="excerpt"></div> '),m(e.Content,{path:e.routePath},null,8,["path"])],64)):f("v-if",!0)])]),a("div",ge,[a("span",fe,"#"+x(e.title),1)])])])}const ve=A(ce,[["render",he],["__scopeId","data-v-829832f7"],["__file","NewsItem.vue"]]);class ye{static toHitokoto(t){return JSON.parse(t)}static HitokotoToJson(t){return JSON.stringify(t)}static request(){return re({method:"get",url:"https://international.v1.hitokoto.cn",headers:{}})}}const ke=N({__name:"NewsList",props:{items:{}},setup(p,{expose:t}){t();const o=p,e=U(),i=L(),d=z(),_=ie(),s=b(1),c=k(()=>d.value.articlePerPage??10),u=k(()=>o.items.slice((s.value-1)*c.value,s.value*c.value)),g=b(null),v=b(Math.random()),W=n=>{const l=["零","一","二","三","四","五","六","七","八","九"],P=["","十","百","千","万"];let F="";if(n===0)return l[0];const S=n.toString().split("");for(let w=0;w<S.length;w++){const q=parseInt(S[w],10);F+=l[q]+P[S.length-w-1]}return F};i.beforeEach((n,l,P)=>{v.value=Math.random(),P()}),async function(){await ye.request().then(n=>{n.status==200&&(g.value=n.data,console.log("获取一言_赋值进度",n.data))})}();const B=async n=>{s.value=n;const l={...e.query};!(l.page===n.toString()||n===1&&!l.page)&&(n===1?delete l.page:l.page=n.toString(),await i.push({path:e.path,query:l}))};G(()=>{const{page:n}=e.query;B(n?Number(n):1),Y(s,()=>{const l=document.querySelector("#article-list").getBoundingClientRect().top+window.scrollY;setTimeout(()=>{window.scrollTo(0,l)},100)})});const T={props:o,route:e,router:i,blogOptions:d,updatePageview:_,currentPage:s,articlePerPage:c,currentArticles:u,hitokotoContent:g,imageKey:v,numberToChinese:W,updatePage:B,get DropTransition(){return O},get Pagination(){return Q},get EmptyIcon(){return X},NewsItem:ve};return Object.defineProperty(T,"__isScriptSetup",{enumerable:!1,value:!0}),T}}),Pe={id:"article-list",class:"vp-article-list"},we={class:"header_text_submit"},Ce=["data-item-count"];function Ie(p,t,o,e,i,d){var _,s;return r(),h("div",Pe,[f(" <HeroHitokoto /> "),t[0]||(t[0]=a("div",{class:"header_text"},"      我想写很多东西,可是又不知道怎么样下笔,浅薄的文笔,稚嫩的表达,似乎什么也说明不了. ",-1)),a("div",we,x((_=e.hitokotoContent)==null?void 0:_.hitokoto)+"--"+x((s=e.hitokotoContent)==null?void 0:s.from),1),a("p",{class:"sub-title","data-item-count":String(o.items.length)}," 沧海「 "+x(e.numberToChinese(o.items.length))+" 」粟 ",9,Ce),f(` <figure>
      <img class="news-top-img" src="https://tuapi.eees.cc/api.php?category=dongman&px=pc&type=302" alt="图"
        :key="imageKey" />
    </figure> `),e.currentArticles.length?(r(),h(E,{key:0},[(r(!0),h(E,null,Z(e.currentArticles,({info:c,path:u},g)=>(r(),y(e.DropTransition,{appear:!0,delay:g*.04},{default:D(()=>[(r(),y(e.NewsItem,{info:c,path:u,key:u},null,8,["info","path"]))]),_:2},1032,["delay"]))),256)),m(e.Pagination,{current:e.currentPage,perPage:e.articlePerPage,total:o.items.length,onUpdateCurrentPage:e.updatePage},null,8,["current","perPage","total"])],64)):(r(),y(e.EmptyIcon,{key:1}))])}const xe=A(ke,[["render",Ie],["__scopeId","data-v-f85caaa5"],["__file","NewsList.vue"]]),Ee=N({__name:"News",setup(p,{expose:t}){t();const o=$("essay"),e=ee(),i=k(()=>o.value?o.value.items:null),{isDarkmode:d}=te(),_=k(()=>s("CommentService")?"CommentService":null),s=u=>!!oe(u);console.log("page",e);const c={essay:o,page:e,items:i,isDarkmode:d,commentService:_,hasGlobalComponent:s,get BlogWrapper(){return ne},get DropTransition(){return O},get SkipLink(){return ae},NewsList:xe};return Object.defineProperty(c,"__isScriptSetup",{enumerable:!1,value:!0}),c}}),Se={class:"theme-container no-sidebar has-toc"},be={class:"vp-page",id:"main-content"},De={class:"theme-hope-content"};function Ne(p,t,o,e,i,d){return r(),h(E,null,[m(e.SkipLink),m(e.BlogWrapper,null,{default:D(()=>[a("div",Se,[a("main",be,[a("div",De,[m(e.DropTransition,{appear:"",delay:.24},{default:D(()=>[(r(),y(e.NewsList,{key:e.page.path,items:e.items},null,8,["items"]))]),_:1}),(r(),y(se(e.commentService),{darkmode:e.isDarkmode},null,8,["darkmode"]))])])])]),_:1})],64)}const Fe=A(Ee,[["render",Ne],["__scopeId","data-v-3b199b4b"],["__file","News.vue"]]);export{Fe as default};
