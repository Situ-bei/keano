const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/APlayer.min-CAgWaKXK.js","assets/commonjsHelpers-Cpj98o6Y.js"])))=>i.map(i=>d[i]);
import{j as M,l as v,p as b,u as h,_ as P,q as A,r as g,o as S,m as w,f as G,a as c,v as I,b as x}from"./app-aKE69vAc.js";import E from"./MyIcon-B_lnUfug.js";import{a as C}from"./axios-CoTZsgdJ.js";import{_ as L}from"./plugin-vue_export-helper-DlAUqK2U.js";const B=M({__name:"NavMusic",setup(f,{expose:i}){i();let o,n=v(!1),l=[];const u=()=>{n.value=!n.value},d=()=>{n.value&&(n.value=!1)},p=()=>{const e=document.querySelector(".vp-navbar-end");if(!e)return;if(!document.querySelector("#MyMusic_Menu")){const s=document.createElement("div");s.id="MyMusic_Menu",s.classList.add("nav-item"),s.innerHTML='<div id="MyMusic_icon" class="btnImg"></div>',e.appendChild(s)}const t=document.querySelector("#MyMusic_Menu");t.onclick=s=>{u(),s.stopPropagation()};const a=document.querySelector(".MyMusic");a.onclick=s=>{s.stopPropagation()}},y=()=>{if(!o)return;const e=window,t=document.getElementById("GlobalAPlayer");!t||l.length<1||(r(),t.classList.contains("aplayer"))||(e.GlobalAPlayer=new o({container:document.getElementById("GlobalAPlayer"),audio:l,lrcType:3,listFolded:!1,listMaxHeight:"324px",mini:!1,fixed:!1,volume:2,storageName:"GlobalAPlayer"}),e.GlobalAPlayer.on("play",function(){r()}),e.GlobalAPlayer.on("pause",function(){r()}))};function r(){var t,a;const e=window;e.GlobalAPlayer&&e.GlobalAPlayer.mode&&(e.GlobalAPlayer.paused?(t=document.getElementById("MyMusic_icon"))==null||t.setAttribute("spin","false"):(a=document.getElementById("MyMusic_icon"))==null||a.setAttribute("spin","true"))}const m=e=>{C({method:"get",url:"https://api.injahow.cn/meting/?server=netease&type=playlist&id=596766562&auth=:auth&r=:r",params:{}}).then(t=>{var a=t.data;a&&a.length>0&&(l=a),e&&e()})};b(()=>{const e=h();m(()=>{P(()=>import("./APlayer.min-CAgWaKXK.js").then(t=>t.A),__vite__mapDeps([0,1])).then(t=>{A(()=>{o=t.default,p(),y()}),e.afterEach(()=>{setTimeout(()=>{p(),y()},50)})})})});const _={get APlayer(){return o},set APlayer(e){o=e},get IsShow(){return n},set IsShow(e){n=e},get GlobalMusicList(){return l},set GlobalMusicList(e){l=e},SwitchStatus:u,CloseStatus:d,InsertMenu:p,NewPlayer:y,AddBtnSpin:r,LoadMusicList:m,MyIcon:E};return Object.defineProperty(_,"__isScriptSetup",{enumerable:!1,value:!0}),_}}),N={class:"MyMusic"};function k(f,i,o,n,l,u){const d=g("ClientOnly");return S(),w(d,null,{default:G(()=>[c("div",N,[c("div",{class:I(["MyMusic_Play",{hide:!n.IsShow}])},[c("div",{class:"close",onClick:n.CloseStatus},[x(n.MyIcon,{name:"guanbi"})]),i[0]||(i[0]=c("div",{id:"GlobalAPlayer"},null,-1))],2)])]),_:1})}const V=L(B,[["render",k],["__file","NavMusic.vue"]]);export{V as default};
