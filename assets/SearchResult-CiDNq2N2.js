import{u as E,j as e,p as t,q as B,v as s,P as a,x as A,y as n,l,z as i,A as o,w as u,k as g,B as r,R as d,C as c,D as y,E as m,G as h,H as v,I as F,J as C,L as D,M as S,N as p,O as w,Q as k,S as f,T as H,U as J,V as j}from"./app-Ftdclrzt.js";const M=["/","/about.html","/collect.html","/intro.html","/blog/","/blog/cursor.html","/blog/%E6%9C%AC%E7%AB%99--collect.html","/blog/%E9%98%BF%E6%8B%89%E4%BC%AF%E6%95%B0%E5%AD%97%E8%BD%AC%E6%B1%89%E5%AD%97%E6%95%B0%E5%AD%97.html","/en/","/en/intro.html","/demo/MarkdownFrontmatter.html","/demo/","/demo/disable.html","/demo/encrypt.html","/demo/layout.html","/demo/markdown.html","/demo/page.html","/essay/1.html","/essay/2.html","/essay/3.html","/essay/4.html","/essay/5.html","/essay/6.html","/essay/","/essay/%E9%9D%A2%E6%9C%9D%E5%A4%A7%E6%B5%B7%EF%BC%8C%E6%98%A5%E6%9A%96%E8%8A%B1%E5%BC%80.html","/life/","/study/","/en/demo/MarkdownFrontmatter.html","/en/demo/","/en/demo/disable.html","/en/demo/encrypt.html","/en/demo/layout.html","/en/demo/markdown.html","/en/demo/page.html","/en/essay/1.html","/en/essay/2.html","/en/essay/3.html","/en/essay/","/en/essay/%E9%9D%A2%E6%9C%9D%E5%A4%A7%E6%B5%B7%EF%BC%8C%E6%98%A5%E6%9A%96%E8%8A%B1%E5%BC%80.html","/en/life/","/en/study/","/life/books/","/life/books/%E9%9D%A2%E6%9C%9D%E5%A4%A7%E6%B5%B7%EF%BC%8C%E6%98%A5%E6%9A%96%E8%8A%B1%E5%BC%80.html","/life/movie/","/life/movie/markdown.html","/life/movie/%E3%80%8A%E5%AF%8C%E5%A3%AB%E5%B1%B1%E4%B8%8B%E3%80%8B.html","/life/music/","/life/music/%E3%80%8A%E5%AF%8C%E5%A3%AB%E5%B1%B1%E4%B8%8B%E3%80%8B.html","/life/music/%E3%80%8A%E7%8E%B0%E4%BB%A3%E7%88%B1%E6%83%85%E6%95%85%E4%BA%8B%E3%80%8B.html","/life/music/%E9%9F%B3%E4%B9%90%E6%A0%87%E7%AD%BE%E5%B1%9E%E6%80%A7%E8%AF%A6%E8%A7%A3.html","/study/coding/","/study/history/","/study/wiki/","/study/wiki/%E5%85%89%E4%BC%8F%E6%9D%BF.html","/study/wiki/%E6%88%91%E5%9C%A8%E6%9D%91%E9%87%8C%E6%8D%A1%E5%A5%BD%E5%8F%A5.html","/study/wiki/%E6%98%BE%E7%A4%BA%E6%8A%80%E6%9C%AF%E5%8F%91%E5%B1%95%E5%8F%B2.html","/study/wiki/%E9%9B%AA%E8%8A%B1%E7%9A%84%E9%9B%85%E7%A7%B0.html","/en/life/books/","/en/life/books/%E9%9D%A2%E6%9C%9D%E5%A4%A7%E6%B5%B7%EF%BC%8C%E6%98%A5%E6%9A%96%E8%8A%B1%E5%BC%80.html","/en/life/movie/","/en/life/movie/markdown.html","/en/life/movie/%E3%80%8A%E5%AF%8C%E5%A3%AB%E5%B1%B1%E4%B8%8B%E3%80%8B.html","/en/life/music/","/en/life/music/%E3%80%8A%E5%AF%8C%E5%A3%AB%E5%B1%B1%E4%B8%8B%E3%80%8B.html","/en/life/music/%E3%80%8A%E7%8E%B0%E4%BB%A3%E7%88%B1%E6%83%85%E6%95%85%E4%BA%8B%E3%80%8B.html","/en/life/music/%E9%9F%B3%E4%B9%90%E6%A0%87%E7%AD%BE%E5%B1%9E%E6%80%A7%E8%AF%A6%E8%A7%A3.html","/en/study/coding/","/en/study/history/","/en/study/wiki/","/en/study/wiki/%E5%85%89%E4%BC%8F%E6%9D%BF.html","/en/study/wiki/%E6%88%91%E5%9C%A8%E6%9D%91%E9%87%8C%E6%8D%A1%E5%A5%BD%E5%8F%A5.html","/en/study/wiki/%E6%98%BE%E7%A4%BA%E6%8A%80%E6%9C%AF%E5%8F%91%E5%B1%95%E5%8F%B2.html","/en/study/wiki/%E9%9B%AA%E8%8A%B1%E7%9A%84%E9%9B%85%E7%A7%B0.html","/study/coding/CSS/CSS2%E5%9F%BA%E7%A1%80.html","/study/coding/CSS/CSS3%E5%9F%BA%E7%A1%80.html","/study/coding/CSS/Less.html","/study/coding/CSS/","/study/coding/CSS/Tailwind.html","/study/coding/CSS/%E5%93%8D%E5%BA%94%E5%BC%8F%E5%B8%83%E5%B1%80.html","/study/coding/CSS/%E7%A7%BB%E5%8A%A8%E7%AB%AF%E5%B8%83%E5%B1%80.html","/study/coding/HTML/HTML.html","/study/coding/HTML/HTML4%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html","/study/coding/HTML/HTML5%E5%9F%BA%E7%A1%80.html","/study/coding/HTML/","/study/coding/JS/ES%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5.html","/study/coding/JS/ES%E6%A8%A1%E5%9D%97%E5%8C%96(ESM).html","/study/coding/JS/JavaScript.html","/study/coding/JS/JavaScript%E6%80%9D%E7%BB%B4%E5%AF%BC%E5%9B%BE.html","/study/coding/JS/","/study/coding/JS/Web%20APIs(DOM%EF%BC%8CBOM).html","/study/coding/JS/%E4%B8%80%E4%BA%9B%E5%B8%B8%E7%94%A8%E7%9A%84%E6%96%B9%E6%B3%95.html","/study/coding/NodeJS/Node.js.html","/study/coding/NodeJS/Node.html","/study/coding/NodeJS/","/study/coding/NodeJS/nvm%20---%20%20%E4%B8%80%E4%B8%AAnodejs%E7%89%88%E6%9C%AC%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7%EF%BC%81.html","/study/coding/Vue/","/study/coding/Vue/Vue2.html","/study/coding/Vue/Vue3.0.html","/study/coding/Vue/Vue%E5%9F%BA%E7%A1%80%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83.html","/study/coding/Vue/vite.html","/study/coding/git/Git.html","/study/coding/git/","/study/coding/interview/CSS%E5%AD%90%E5%85%83%E7%B4%A0%E5%9E%82%E7%9B%B4%E6%B0%B4%E5%B9%B3%E5%B1%85%E4%B8%AD.html","/study/coding/interview/Cookie%E3%80%81LocalStorage%20%E5%92%8C%20SessionStorage%20%E7%9A%84%E5%8C%BA%E5%88%AB.html","/study/coding/interview/JS%E4%B8%AD%E7%9A%84%E5%A0%86%E5%92%8C%E6%A0%88.html","/study/coding/interview/JS%E4%BA%8B%E4%BB%B6%E5%BE%AA%E7%8E%AF%E5%92%8C%E4%BB%BB%E5%8A%A1%E9%98%9F%E5%88%97%E7%9A%84%E6%A6%82%E5%BF%B5.html","/study/coding/interview/JS%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B.html","/study/coding/interview/JS%E7%9A%84%E8%B0%83%E7%94%A8%E6%A0%88.html","/study/coding/interview/","/study/coding/interview/cookie%E9%A2%84%E9%98%B2xss%E6%94%BB%E5%87%BB.html","/study/coding/interview/%E6%B5%8F%E8%A7%88%E5%99%A8%E7%9A%84%E7%BC%93%E5%AD%98%E5%8E%9F%E7%90%86.html","/study/coding/interview/%E7%8A%B6%E6%80%81%E7%A0%81%20200%20%E5%92%8C%20304.html","/study/coding/interview/%E7%9B%92%E5%AD%90%E6%A8%A1%E5%9E%8B.html","/study/history/overview/","/study/history/overview/%E8%8F%B2%E5%BE%8B%E5%AE%BE.html","/study/history/overview/%E8%AF%BA%E5%A5%96%E4%B8%8E%E4%B8%AD%E5%8D%8E%E6%96%87%E6%98%8E%E5%B4%9B%E8%B5%B7.html","/en/study/coding/CSS/CSS2%E5%9F%BA%E7%A1%80.html","/en/study/coding/CSS/CSS3%E5%9F%BA%E7%A1%80.html","/en/study/coding/CSS/Less.html","/en/study/coding/CSS/","/en/study/coding/CSS/Tailwind.html","/en/study/coding/CSS/%E5%93%8D%E5%BA%94%E5%BC%8F%E5%B8%83%E5%B1%80.html","/en/study/coding/CSS/%E7%A7%BB%E5%8A%A8%E7%AB%AF%E5%B8%83%E5%B1%80.html","/en/study/coding/HTML/HTML.html","/en/study/coding/HTML/HTML4%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86.html","/en/study/coding/HTML/HTML5%E5%9F%BA%E7%A1%80.html","/en/study/coding/HTML/","/en/study/coding/JS/ES%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5.html","/en/study/coding/JS/ES%E6%A8%A1%E5%9D%97%E5%8C%96(ESM).html","/en/study/coding/JS/JavaScript.html","/en/study/coding/JS/JavaScript%E6%80%9D%E7%BB%B4%E5%AF%BC%E5%9B%BE.html","/en/study/coding/JS/","/en/study/coding/JS/Web%20APIs(DOM%EF%BC%8CBOM).html","/en/study/coding/JS/%E4%B8%80%E4%BA%9B%E5%B8%B8%E7%94%A8%E7%9A%84%E6%96%B9%E6%B3%95.html","/en/study/coding/NodeJS/Node.js.html","/en/study/coding/NodeJS/Node.html","/en/study/coding/NodeJS/","/en/study/coding/NodeJS/nvm%20---%20%20%E4%B8%80%E4%B8%AAnodejs%E7%89%88%E6%9C%AC%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7%EF%BC%81.html","/en/study/coding/Vue/","/en/study/coding/Vue/Vue2.html","/en/study/coding/Vue/Vue3.0.html","/en/study/coding/Vue/Vue%E5%9F%BA%E7%A1%80%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83.html","/en/study/coding/Vue/vite.html","/en/study/coding/git/Git.html","/en/study/coding/git/","/en/study/coding/interview/Cookie%E3%80%81LocalStorage%20%E5%92%8C%20SessionStorage%20%E7%9A%84%E5%8C%BA%E5%88%AB.html","/en/study/coding/interview/","/en/study/coding/interview/cookie%E9%A2%84%E9%98%B2xss%E6%94%BB%E5%87%BB.html","/en/study/coding/interview/%E6%B5%8F%E8%A7%88%E5%99%A8%E7%9A%84%E7%BC%93%E5%AD%98%E5%8E%9F%E7%90%86.html","/en/study/coding/interview/%E7%8A%B6%E6%80%81%E7%A0%81%20200%20%E5%92%8C%20304.html","/en/study/history/overview/","/en/study/history/overview/%E8%8F%B2%E5%BE%8B%E5%AE%BE.html","/404.html","/category/","/category/blog/","/category/vuepress/","/category/do-it/","/category/%E6%8C%87%E5%8D%97/","/category/%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/","/category/%E7%94%9F%E6%B4%BB/","/category/%E9%98%85%E8%AF%BB/","/category/%E9%9F%B3%E4%B9%90/","/category/%E7%99%BE%E7%A7%91/","/category/%E5%89%8D%E7%AB%AF/","/category/css/","/category/html/","/category/js/","/category/nodejs/","/category/vue/","/category/git/","/category/css%E5%8E%9F%E7%90%86/","/category/%E6%B8%B8%E8%A7%88%E5%99%A8%E7%BC%93%E5%AD%98/","/category/js%E5%8E%9F%E7%90%86/","/category/%E6%B5%8F%E8%A7%88%E5%99%A8%E5%8E%9F%E7%90%86/","/category/%E7%8A%B6%E6%80%81%E7%A0%81/","/category/%E5%8E%86%E5%8F%B2/","/category/%E4%BA%BA%E6%96%87/","/en/category/","/en/category/%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/","/en/category/%E7%94%9F%E6%B4%BB/","/en/category/%E9%98%85%E8%AF%BB/","/en/category/%E9%9F%B3%E4%B9%90/","/en/category/%E7%99%BE%E7%A7%91/","/en/category/%E5%89%8D%E7%AB%AF/","/en/category/css/","/en/category/html/","/en/category/js/","/en/category/nodejs/","/en/category/vue/","/en/category/git/","/en/category/%E6%B8%B8%E8%A7%88%E5%99%A8%E7%BC%93%E5%AD%98/","/en/category/%E6%B5%8F%E8%A7%88%E5%99%A8%E5%8E%9F%E7%90%86/","/en/category/%E7%8A%B6%E6%80%81%E7%A0%81/","/en/category/%E5%8E%86%E5%8F%B2/","/en/category/%E4%BA%BA%E6%96%87/","/tag/","/tag/%E5%85%B3%E4%BA%8E%E6%9C%AC%E7%AB%99/","/tag/console.log/","/tag/vite/","/tag/cursor/","/tag/%E6%94%B6%E8%97%8F/","/tag/%E5%B8%83%E5%B1%80/","/tag/%E9%98%BF%E6%8B%89%E4%BC%AF%E6%95%B0%E5%AD%97%E8%BD%AC%E6%B1%89%E5%AD%97%E6%95%B0%E5%AD%97/","/tag/vuepress/","/tag/markdown/","/tag/%E5%8A%A0%E5%AF%86/","/tag/%E9%A1%B5%E9%9D%A2%E9%85%8D%E7%BD%AE/","/tag/%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/","/tag/%E9%9A%8F%E7%AC%94/","/tag/%E8%AF%97%E6%AD%8C/","/tag/%E6%B5%B7%E5%AD%90/","/tag/%E7%B2%A4%E8%AF%AD%E6%AD%8C%E6%9B%B2/","/tag/%E5%AD%A6%E5%94%B1/","/tag/%E5%AF%8C%E5%A3%AB%E5%B1%B1%E4%B8%8B/","/tag/%E9%99%88%E5%A5%95%E8%BF%85/","/tag/%E3%80%8A%E7%8E%B0%E4%BB%A3%E7%88%B1%E6%83%85%E6%95%85%E4%BA%8B%E3%80%8B/","/tag/%E9%9F%B3%E4%B9%90%E7%9F%A5%E8%AF%86/","/tag/%E5%85%89%E4%BC%8F/","/tag/%E8%AE%A9%E6%88%91%E4%BB%AC%E5%8F%98%E5%BE%97%E6%9B%B4%E5%BC%BA%E5%A4%A7/","/tag/%E9%9F%B3%E4%B9%90/","/tag/%E6%89%8B%E6%9C%BA/","/tag/%E5%B1%8F%E5%B9%95/","/tag/%E6%96%87%E5%8C%96%E5%B8%B8%E8%AF%86/","/tag/%E9%9B%AA%E8%8A%B1/","/tag/css/","/tag/css2/","/tag/css%E5%9F%BA%E7%A1%80/","/tag/css3/","/tag/less/","/tag/%E9%A2%84%E7%BC%96%E8%AF%91%E5%99%A8/","/tag/tailwind/","/tag/%E5%93%8D%E5%BA%94%E5%BC%8F%E5%B8%83%E5%B1%80/","/tag/%E7%A7%BB%E5%8A%A8%E7%AB%AF%E5%B8%83%E5%B1%80/","/tag/vw/","/tag/html/","/tag/html4/","/tag/html5/","/tag/js/","/tag/js%E5%9F%BA%E7%A1%80/","/tag/js%E6%A8%A1%E5%9D%97%E5%8C%96/","/tag/js-%E5%9F%BA%E7%A1%80/","/tag/js%E6%96%B9%E6%B3%95/","/tag/nodejs/","/tag/nodejs-%E5%9F%BA%E7%A1%80/","/tag/%E6%9D%8E%E7%AB%8B%E8%B6%85/","/tag/nvm/","/tag/%E5%89%8D%E7%AB%AF/","/tag/vue2.0/","/tag/vue3.0/","/tag/vue%E7%94%9F%E6%80%81/","/tag/git/","/tag/css-%E5%85%83%E7%B4%A0%E5%B1%85%E4%B8%AD/","/tag/%E9%9D%A2%E8%AF%95/","/tag/cookie/","/tag/localstorage/","/tag/sessionstorage/","/tag/%E5%A0%86%E5%92%8C%E6%A0%88/","/tag/%E4%BA%8B%E4%BB%B6%E5%BE%AA%E7%8E%AF/","/tag/%E4%BB%BB%E5%8A%A1%E9%98%9F%E5%88%97/","/tag/js%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/","/tag/%E8%B0%83%E7%94%A8%E6%A0%88/","/tag/xss/","/tag/%E6%B5%8F%E8%A7%88%E5%99%A8%E5%8E%9F%E7%90%86/","/tag/%E6%B8%B8%E8%A7%88%E5%99%A8%E7%BC%93%E5%AD%98/","/tag/%E7%8A%B6%E6%80%81%E7%A0%81/","/tag/css-%E7%9B%92%E5%AD%90%E6%A8%A1%E5%9E%8B/","/tag/%E7%94%B5%E5%AD%90%E5%9C%B0%E5%9B%BE%E5%86%8C/","/tag/%E4%B8%9C%E7%9B%9F%E5%8D%81%E5%9B%BD/","/tag/%E7%8E%8B%E9%AA%81/","/tag/%E5%9B%BD%E9%99%85%E6%94%BF%E6%B2%BB/","/tag/%E8%AF%BA%E8%B4%9D%E5%B0%94/","/tag/%E6%A3%B1%E9%95%9Ctalk/","/tag/%E4%B8%AD%E5%8D%8E%E6%96%87%E6%98%8E/","/tag/%E6%90%AC%E8%BF%90/","/en/tag/","/en/tag/vuepress/","/en/tag/markdown/","/en/tag/%E7%A6%81%E7%94%A8/","/en/tag/%E5%8A%A0%E5%AF%86/","/en/tag/%E5%B8%83%E5%B1%80/","/en/tag/%E9%A1%B5%E9%9D%A2%E9%85%8D%E7%BD%AE/","/en/tag/%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97/","/en/tag/%E8%AF%97%E6%AD%8C/","/en/tag/%E6%B5%B7%E5%AD%90/","/en/tag/%E7%B2%A4%E8%AF%AD%E6%AD%8C%E6%9B%B2/","/en/tag/%E5%AD%A6%E5%94%B1/","/en/tag/%E5%AF%8C%E5%A3%AB%E5%B1%B1%E4%B8%8B/","/en/tag/%E9%99%88%E5%A5%95%E8%BF%85/","/en/tag/%E3%80%8A%E7%8E%B0%E4%BB%A3%E7%88%B1%E6%83%85%E6%95%85%E4%BA%8B%E3%80%8B/","/en/tag/%E9%9F%B3%E4%B9%90%E7%9F%A5%E8%AF%86/","/en/tag/%E5%85%89%E4%BC%8F/","/en/tag/%E8%AE%A9%E6%88%91%E4%BB%AC%E5%8F%98%E5%BE%97%E6%9B%B4%E5%BC%BA%E5%A4%A7/","/en/tag/%E9%9F%B3%E4%B9%90/","/en/tag/%E6%89%8B%E6%9C%BA/","/en/tag/%E5%B1%8F%E5%B9%95/","/en/tag/%E6%96%87%E5%8C%96%E5%B8%B8%E8%AF%86/","/en/tag/%E9%9B%AA%E8%8A%B1/","/en/tag/css/","/en/tag/css2/","/en/tag/css%E5%9F%BA%E7%A1%80/","/en/tag/css3/","/en/tag/less/","/en/tag/%E9%A2%84%E7%BC%96%E8%AF%91%E5%99%A8/","/en/tag/tailwind/","/en/tag/%E5%93%8D%E5%BA%94%E5%BC%8F%E5%B8%83%E5%B1%80/","/en/tag/%E7%A7%BB%E5%8A%A8%E7%AB%AF%E5%B8%83%E5%B1%80/","/en/tag/vw/","/en/tag/html/","/en/tag/html4/","/en/tag/html5/","/en/tag/js/","/en/tag/js%E5%9F%BA%E7%A1%80/","/en/tag/js%E6%A8%A1%E5%9D%97%E5%8C%96/","/en/tag/js-%E5%9F%BA%E7%A1%80/","/en/tag/js%E6%96%B9%E6%B3%95/","/en/tag/nodejs/","/en/tag/nodejs-%E5%9F%BA%E7%A1%80/","/en/tag/%E6%9D%8E%E7%AB%8B%E8%B6%85/","/en/tag/nvm/","/en/tag/%E5%89%8D%E7%AB%AF/","/en/tag/vue2.0/","/en/tag/vue3.0/","/en/tag/vue%E7%94%9F%E6%80%81/","/en/tag/vite/","/en/tag/git/","/en/tag/cookie/","/en/tag/localstorage/","/en/tag/sessionstorage/","/en/tag/%E9%9D%A2%E8%AF%95/","/en/tag/xss/","/en/tag/%E6%B5%8F%E8%A7%88%E5%99%A8%E5%8E%9F%E7%90%86/","/en/tag/%E6%B8%B8%E8%A7%88%E5%99%A8%E7%BC%93%E5%AD%98/","/en/tag/%E7%8A%B6%E6%80%81%E7%A0%81/","/en/tag/%E7%94%B5%E5%AD%90%E5%9C%B0%E5%9B%BE%E5%86%8C/","/en/tag/%E4%B8%9C%E7%9B%9F%E5%8D%81%E5%9B%BD/","/en/tag/%E7%8E%8B%E9%AA%81/","/en/tag/%E5%9B%BD%E9%99%85%E6%94%BF%E6%B2%BB/","/article/","/en/article/","/star/","/en/star/","/timeline/","/en/timeline/"],T=E("SEARCH_PRO_QUERY_HISTORY",[]),L=E=>M[E.id]+("anchor"in E?`#${E.anchor}`:""),{resultHistoryCount:b}=p,x=E("SEARCH_PRO_RESULT_HISTORY",[]);var Q=e({name:"SearchResult",props:{queries:{type:Array,required:!0},isFocusing:Boolean},emits:["close","updateQuery"],setup(E,{emit:e}){const M=t(),Q=B(),V=s(a),{enabled:R,addQueryHistory:q,queryHistory:N,removeQueryHistory:O}=(()=>{const{queryHistoryCount:E}=p,e=E>0;return{enabled:e,queryHistory:T,addQueryHistory:t=>{e&&(T.value=Array.from(new Set([t,...T.value.slice(0,E-1)])))},removeQueryHistory:E=>{T.value=[...T.value.slice(0,E),...T.value.slice(E+1)]}}})(),{enabled:I,resultHistory:P,addResultHistory:_,removeResultHistory:U}=(()=>{const E=b>0;return{enabled:E,resultHistory:x,addResultHistory:e=>{if(E){const E={link:L(e),display:e.display};"header"in e&&(E.header=e.header),x.value=[E,...x.value.slice(0,b-1)]}},removeResultHistory:E=>{x.value=[...x.value.slice(0,E),...x.value.slice(E+1)]}}})(),$=R||I,G=A(E,"queries"),{results:W,isSearching:Y}=(E=>{const e=h(),t=B(),s=v(),a=l(0),A=i((()=>a.value>0)),n=F([]);return C((()=>{const{search:B,terminate:A}=D(),l=S((E=>{const A=E.join(" "),{searchFilter:l=E=>E,splitWord:i,suggestionsFilter:o,...u}=e.value;A?(a.value+=1,B(E.join(" "),t.value,u).then((E=>l(E,A,t.value,s.value))).then((E=>{a.value-=1,n.value=E})).catch((E=>{console.warn(E),a.value-=1,a.value||(n.value=[])}))):n.value=[]}),p.searchDelay-p.suggestDelay);u([E,t],(([E])=>l(E)),{immediate:!0}),w((()=>{A()}))})),{isSearching:A,results:n}})(G),z=n({isQuery:!0,index:0}),K=l(0),X=l(0),Z=i((()=>$&&(N.value.length>0||P.value.length>0))),EE=i((()=>W.value.length>0)),eE=i((()=>W.value[K.value]||null)),tE=()=>{X.value<eE.value.contents.length-1?X.value+=1:(K.value=K.value<W.value.length-1?K.value+1:0,X.value=0)},BE=()=>{X.value>0?X.value-=1:(K.value=K.value>0?K.value-1:W.value.length-1,X.value=eE.value.contents.length-1)},sE=E=>E.map((E=>j(E)?E:g(E[0],E[1]))),aE=E=>{if("customField"===E.type){const e=k[E.index]||"$content",[t,B=""]=f(e)?e[Q.value].split("$content"):e.split("$content");return E.display.map((E=>g("div",sE([t,...E,B]))))}return E.display.map((E=>g("div",sE(E))))},AE=()=>{K.value=0,X.value=0,e("updateQuery",""),e("close")};return o("keydown",(t=>{if(E.isFocusing)if(EE.value){if("ArrowUp"===t.key)BE();else if("ArrowDown"===t.key)tE();else if("Enter"===t.key){const e=eE.value.contents[X.value];q(E.queries.join(" ")),_(e),M.push(L(e)),AE()}}else if(I)if("ArrowUp"===t.key)(()=>{const{isQuery:E,index:e}=z;0===e?(z.isQuery=!E,z.index=E?P.value.length-1:N.value.length-1):z.index=e-1})();else if("ArrowDown"===t.key)(()=>{const{isQuery:E,index:e}=z;e===(E?N.value.length-1:P.value.length-1)?(z.isQuery=!E,z.index=0):z.index=e+1})();else if("Enter"===t.key){const{index:E}=z;z.isQuery?(e("updateQuery",N.value[E]),t.preventDefault()):(M.push(P.value[E].link),AE())}})),u([K,X],(()=>{var E;null==(E=document.querySelector(".search-pro-result-list-item.active .search-pro-result-item.active"))||E.scrollIntoView(!1)}),{flush:"post"}),()=>g("div",{class:["search-pro-result-wrapper",{empty:E.queries.length?!EE.value:!Z.value}],id:"search-pro-results"},E.queries.length?Y.value?g(r,{hint:V.value.searching}):EE.value?g("ul",{class:"search-pro-result-list"},W.value.map((({title:e,contents:t},B)=>{const s=K.value===B;return g("li",{class:["search-pro-result-list-item",{active:s}]},[g("div",{class:"search-pro-result-title"},e||V.value.defaultTitle),t.map(((e,t)=>{const B=s&&X.value===t;return g(d,{to:L(e),class:["search-pro-result-item",{active:B,"aria-selected":B}],onClick:()=>{q(E.queries.join(" ")),_(e),AE()}},(()=>["text"===e.type?null:g("title"===e.type?c:"heading"===e.type?y:m,{class:"search-pro-result-type"}),g("div",{class:"search-pro-result-content"},["text"===e.type&&e.header?g("div",{class:"content-header"},e.header):null,g("div",aE(e))])]))}))])}))):V.value.emptyResult:$?Z.value?[R?g("ul",{class:"search-pro-result-list"},g("li",{class:"search-pro-result-list-item"},[g("div",{class:"search-pro-result-title"},V.value.queryHistory),N.value.map(((E,t)=>g("div",{class:["search-pro-result-item",{active:z.isQuery&&z.index===t}],onClick:()=>{e("updateQuery",E)}},[g(H,{class:"search-pro-result-type"}),g("div",{class:"search-pro-result-content"},E),g("button",{class:"search-pro-remove-icon",innerHTML:J,onClick:E=>{E.preventDefault(),E.stopPropagation(),O(t)}})])))])):null,I?g("ul",{class:"search-pro-result-list"},g("li",{class:"search-pro-result-list-item"},[g("div",{class:"search-pro-result-title"},V.value.resultHistory),P.value.map(((E,e)=>g(d,{to:E.link,class:["search-pro-result-item",{active:!z.isQuery&&z.index===e}],onClick:()=>{AE()}},(()=>[g(H,{class:"search-pro-result-type"}),g("div",{class:"search-pro-result-content"},[E.header?g("div",{class:"content-header"},E.header):null,g("div",E.display.map((E=>sE(E))).flat())]),g("button",{class:"search-pro-remove-icon",innerHTML:J,onClick:E=>{E.preventDefault(),E.stopPropagation(),U(e)}})]))))])):null]:V.value.emptyHistory:V.value.emptyResult)}});export{Q as default};
