import{j as N,x as W,Y as j,p as L,z as k,Z as J,$ as R,a0 as V,a1 as K,o as r,c as h,a,b as m,n as x,g as C,d as f,a2 as M,t as I,F as E,a3 as U,a4 as z,l as b,J as Y,w as G,a5 as O,a6 as Z,a7 as Q,i as X,m as y,f as D,a8 as $,H as ee,a9 as te,r as oe,aa as ne,ab as ae,ac as se}from"./app-BU0bo4Sb.js";import{_ as A}from"./plugin-vue_export-helper-DlAUqK2U.js";import{a as re}from"./axios-CoTZsgdJ.js";const ie=()=>()=>{},ce=N({__name:"NewsItem",props:{path:{},info:{}},setup(p,{expose:t}){t();const o=p,e=W(o,"info"),{info:i}=j(o),{["t"]:d,["e"]:_}=e.value,s=i.value,c=L(),u=c.resolve(o.path),g=k(()=>u?u.path.toString():"");console.log("routePath",g.value);const v={props:o,articleInfo:e,pageInfo:i,title:d,excerpt:_,pinfo:s,router:c,route:u,routePath:g,get DateInfo(){return J},get TagInfo(){return R},get WordInfo(){return V},get Content(){return K}};return Object.defineProperty(v,"__isScriptSetup",{enumerable:!1,value:!0}),v}}),le="/keano/assets/avatar-f8LJ653A.jpg",ue={class:"vp-article-wrapper"},pe={class:"vp-article-item",typeof:"Article"},de={class:"news-item-content"},_e={class:"info-row"},me={key:0,class:"page-info"},ge={class:"tag"},fe={property:"headline"};function he(p,t,o,e,i,d){return r(),h("div",ue,[a("article",pe,[a("div",de,[a("div",_e,[t[1]||(t[1]=a("img",{class:"avatar",src:le},null,-1)),a("div",null,[t[0]||(t[0]=a("a",{href:"/intro"},[a("span",{class:"name"},"Keano")],-1)),e.pinfo?(r(),h("div",me,[m(e.DateInfo,x(C(e.pinfo)),null,16),f(' <PageViewInfo v-bind="pinfo" /> '),m(e.TagInfo,x(C(e.pinfo)),null,16),m(e.WordInfo,x(C(e.pinfo)),null,16)])):f("v-if",!0)])]),f(' <hr class="vp-article-hr" /> '),M(p.$slots,"excerpt",x(C({excerpt:e.excerpt})),()=>[e.excerpt?(r(),h(E,{key:0},[f(' <div class="vp-article-excerpt" v-html="excerpt"></div> '),m(e.Content,{path:e.routePath},null,8,["path"])],64)):f("v-if",!0)])]),a("div",ge,[a("span",fe,"#"+I(e.title),1)])])])}const ve=A(ce,[["render",he],["__scopeId","data-v-829832f7"],["__file","NewsItem.vue"]]);class ye{static toHitokoto(t){return JSON.parse(t)}static HitokotoToJson(t){return JSON.stringify(t)}static request(){return re({method:"get",url:"https://international.v1.hitokoto.cn",headers:{}})}}const ke=N({__name:"NewsList",props:{items:{}},setup(p,{expose:t}){t();const o=p,e=U(),i=L(),d=z(),_=ie(),s=b(1),c=k(()=>d.value.articlePerPage??10),u=k(()=>o.items.slice((s.value-1)*c.value,s.value*c.value)),g=b(null),v=b(Math.random()),q=n=>{const l=["零","一","二","三","四","五","六","七","八","九"],P=["","十","百","千","万"];let T="";if(n===0)return l[0];const S=n.toString().split("");for(let w=0;w<S.length;w++){const H=parseInt(S[w],10);T+=l[H]+P[S.length-w-1]}return T};i.beforeEach((n,l,P)=>{v.value=Math.random(),P()}),async function(){await ye.request().then(n=>{n.status==200&&(g.value=n.data,console.log("获取一言_赋值进度",n.data))})}();const B=async n=>{s.value=n;const l={...e.query};!(l.page===n.toString()||n===1&&!l.page)&&(n===1?delete l.page:l.page=n.toString(),await i.push({path:e.path,query:l}))};Y(()=>{const{page:n}=e.query;B(n?Number(n):1),G(s,()=>{const l=document.querySelector("#article-list").getBoundingClientRect().top+window.scrollY;setTimeout(()=>{window.scrollTo(0,l)},100)})});const F={props:o,route:e,router:i,blogOptions:d,updatePageview:_,currentPage:s,articlePerPage:c,currentArticles:u,hitokotoContent:g,imageKey:v,numberToChinese:q,updatePage:B,get DropTransition(){return O},get Pagination(){return Z},get EmptyIcon(){return Q},NewsItem:ve};return Object.defineProperty(F,"__isScriptSetup",{enumerable:!1,value:!0}),F}}),Pe={id:"article-list",class:"vp-article-list"},we={class:"header_text_submit"},xe=["data-item-count"];function Ce(p,t,o,e,i,d){var _,s;return r(),h("div",Pe,[f(" <HeroHitokoto /> "),t[0]||(t[0]=a("div",{class:"header_text"},"      我想写很多东西,可是又不知道怎么样下笔,浅薄的文笔,稚嫩的表达,似乎什么也说明不了. ",-1)),a("div",we,I((_=e.hitokotoContent)==null?void 0:_.hitokoto)+"--"+I((s=e.hitokotoContent)==null?void 0:s.from),1),a("p",{class:"sub-title","data-item-count":String(o.items.length)}," 沧海「 "+I(e.numberToChinese(o.items.length))+" 」粟 ",9,xe),f(` <figure>
      <img class="news-top-img" src="https://tuapi.eees.cc/api.php?category=dongman&px=pc&type=302" alt="图"
        :key="imageKey" />
    </figure> `),e.currentArticles.length?(r(),h(E,{key:0},[(r(!0),h(E,null,X(e.currentArticles,({info:c,path:u},g)=>(r(),y(e.DropTransition,{appear:!0,delay:g*.04},{default:D(()=>[(r(),y(e.NewsItem,{info:c,path:u,key:u},null,8,["info","path"]))]),_:2},1032,["delay"]))),256)),m(e.Pagination,{current:e.currentPage,perPage:e.articlePerPage,total:o.items.length,onUpdateCurrentPage:e.updatePage},null,8,["current","perPage","total"])],64)):(r(),y(e.EmptyIcon,{key:1}))])}const Ie=A(ke,[["render",Ce],["__scopeId","data-v-f85caaa5"],["__file","NewsList.vue"]]),Ee=N({__name:"News",setup(p,{expose:t}){t();const o=$("essay"),e=ee(),i=k(()=>o.value?o.value.items:null),{isDarkmode:d}=te(),_=k(()=>s("CommentService")?"CommentService":null),s=u=>!!oe(u);console.log("page",e);const c={essay:o,page:e,items:i,isDarkmode:d,commentService:_,hasGlobalComponent:s,get BlogWrapper(){return ne},get DropTransition(){return O},get SkipLink(){return ae},NewsList:Ie};return Object.defineProperty(c,"__isScriptSetup",{enumerable:!1,value:!0}),c}}),Se={class:"theme-container no-sidebar has-toc"},be={class:"vp-page",id:"main-content"},De={class:"theme-hope-content"};function Ne(p,t,o,e,i,d){return r(),h(E,null,[m(e.SkipLink),m(e.BlogWrapper,null,{default:D(()=>[a("div",Se,[a("main",be,[a("div",De,[m(e.DropTransition,{appear:"",delay:.24},{default:D(()=>[(r(),y(e.NewsList,{key:e.page.path,items:e.items},null,8,["items"]))]),_:1}),(r(),y(se(e.commentService),{darkmode:e.isDarkmode},null,8,["darkmode"]))])])])]),_:1})],64)}const Te=A(Ee,[["render",Ne],["__scopeId","data-v-3b199b4b"],["__file","News.vue"]]);export{Te as default};
