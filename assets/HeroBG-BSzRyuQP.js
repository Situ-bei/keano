import{j as e,J as t,W as n,p as i,X as a,_ as l,r as s,o,m as d,f as r,b as c}from"./app-CnuKyi5Z.js";import{m as g,L as m}from"./tools-Bbf-jgMA.js";const u=l(e({__name:"HeroBG",setup(e,{expose:l}){l();const s=()=>{var e,t,n,i,a;let l=window.location.pathname,s=g.get("BingImgIndex");const o=g.get("BingImgList");(!s||s<0)&&(s=0),s>o.length-1&&(s=o.length-1),g.set("BingImgIndex",s);const d=document.querySelector(".vp-blog-mask");0==s&&(null==(e=document.getElementById("leftNav"))||e.classList.add("disabled")),s==o.length-1&&(null==(t=document.getElementById("rightNav"))||t.classList.add("disabled")),s>0&&s<o.length-1&&(null==(n=document.getElementById("leftNav"))||n.classList.remove("disabled"),null==(i=document.getElementById("rightNav"))||i.classList.remove("disabled"));let r=o[s];l.includes("/en")&&(r=r.EN);const c=document.getElementById("bingLink_text");c&&(c.innerHTML=r.Title),null==(a=document.getElementById("bingLink"))||a.setAttribute("href",r.CopyrightLink);const m=r.Path;d.style.background="",d.style.backgroundImage=`url(${m})`;const u=document.querySelector(".vp-footer-wrapper");u&&(u.style.backgroundImage=`url(${m})`)},o=e=>{var t;const n=document.querySelector(".vp-blog-mask");if(!n)return;const i=document.querySelector(".vp-blog-hero-title");if(i.addEventListener("click",(()=>{window.location.href="//mo7.cc"})),!i)return;const a=g.get("BingImgList");if(a&&a.length<1)return;if(!document.getElementById("BingSwitchWrapper")){const e=document.createElement("div");e.id="BingSwitchWrapper",e.innerHTML='\n<a href="" target="_Blank" id="bingLink">\n  <div class="bingLink_icon"><svg class="mapPin" height="16" width="16" viewBox="0 0 12 12" aria-hidden="true" role="presentation"><path d="M0 0h12v12h-12z" fill="none"></path><path d="M6.5 3a1.5 1.5 0 1 0 1.5 1.5 1.5 1.5 0 0 0-1.5-1.5zm0-3a4.5 4.5 0 0 0-4.5 4.5 5.607 5.607 0 0 0 .087.873c.453 2.892 2.951 5.579 3.706 6.334a1 1 0 0 0 1.414 0c.755-.755 3.253-3.442 3.706-6.334a5.549 5.549 0 0 0 .087-.873 4.5 4.5 0 0 0-4.5-4.5zm3.425 5.218c-.36 2.296-2.293 4.65-3.425 5.782-1.131-1.132-3.065-3.486-3.425-5.782a4.694 4.694 0 0 1-.075-.718 3.5 3.5 0 0 1 7 0 4.634 4.634 0 0 1-.075.718z"></path></svg></div>\n  <div id="bingLink_text"></div>\n</a>\n<div id="leftNav"></div>\n<div id="rightNav"></div>',null==(t=n.parentElement)||t.insertBefore(e,n)}const l=document.getElementById("leftNav"),o=document.getElementById("rightNav");l&&o&&(s(),l.onclick=()=>{let e=g.get("BingImgIndex");e--,g.set("BingImgIndex",e),s()},o.onclick=()=>{let e=g.get("BingImgIndex");e++,g.set("BingImgIndex",e),s()})},d=()=>{a({method:"get",url:"//file.mo7.cc/api/public/url",params:{}}).then((e=>{const t=e.data.Data;if(!(t&&t.length<1)){for(const e of t)m(e.Path);g.set("BingImgList",t),o()}}))};t((()=>{n((()=>{d()}));i().afterEach((e=>{n((()=>{setTimeout((()=>{o()}),50)}))}))}));const r={UpdateBingImg:s,InsertBtn:o,GetBingImgList:d};return Object.defineProperty(r,"__isScriptSetup",{enumerable:!1,value:!0}),r}}),[["render",function(e,t,n,i,a,l){const g=s("ClientOnly");return o(),d(g,null,{default:r((()=>t[0]||(t[0]=[c("div",{class:"none"},"Bing壁纸",-1
/* HOISTED */)]))),_:1
/* STABLE */})}],["__file","HeroBG.vue"]]);export{u as default};
